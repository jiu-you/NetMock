import{r as w,c as x,a as B,o as et,w as ve,b as Y,d as _,e as b,f as i,g as a,h as s,t as n,i as g,j as f,k as ge,F as M,l as I,n as R,m as tt,v as st,E as h,p as fe,q as lt,s as ot}from"./index-CL8RlpWE.js";const at=(G,F)=>{const T=G.__vccOpts||G;for(const[Z,l]of F)T[Z]=l;return T},nt={class:"brand"},rt={class:"brand-title"},it={class:"brand-sub"},dt={class:"status-row"},ct={class:"status-text"},ut={class:"panel"},_t={class:"panel-title"},pt={class:"mode-hint"},mt={class:"panel"},bt={class:"panel-title"},vt={class:"action-row"},gt={class:"bulk-actions-grid"},ft={class:"panel debug-panel"},ht={class:"panel-title"},yt={class:"log-controls"},wt={class:"log-list"},Ct={key:0,class:"log-empty"},kt={class:"log-row-1"},St={class:"log-time"},Rt=["title"],Vt={key:0,class:"log-meta"},Ot={class:"rule-ref"},Dt={class:"toolbar-left"},Et={class:"stat-item"},xt={class:"stat-value"},Tt={class:"stat-total"},jt={class:"stat-label"},Lt={class:"stat-item"},Nt={class:"stat-value success"},At={class:"stat-label"},Ut={class:"toolbar-actions"},Mt={class:"search-bar"},It={key:1,class:"rules-list-container"},zt={key:0,class:"grouped-view"},Pt=["onClick"],Jt={class:"group-name"},$t={class:"group-count"},Bt={class:"group-items"},Gt={class:"rule-inner"},Ft={class:"rule-select"},qt={class:"rule-main"},Ht={class:"rule-top"},Wt=["title"],Kt={class:"rule-bottom"},Qt={class:"badge-group"},Xt={class:"badge type-badge"},Yt={class:"timestamp"},Zt={class:"rule-actions"},es={class:"action-buttons"},ts=["onClick","title"],ss=["onClick","title"],ls=["onClick","title"],os={key:1,class:"rules-list"},as={class:"rule-inner"},ns={class:"rule-select"},rs={class:"rule-main"},is={class:"rule-top"},ds=["title"],cs={class:"rule-bottom"},us={class:"badge-group"},_s={class:"badge type-badge"},ps={class:"timestamp"},ms={class:"rule-actions"},bs={class:"action-buttons"},vs=["onClick","title"],gs=["onClick","title"],fs=["onClick","title"],hs={class:"form-help"},ys={class:"editor-section"},ws={class:"editor-toolbar"},Cs={class:"editor-label"},ks={class:"editor-tools"},Ss={class:"dialog-footer"},Rs={__name:"App",setup(G){const F={en:{brand:{title:"NetMock",subtitle:"Professional API Mocking",status:"Active Monitoring"},sidebar:{mode:"INTERCEPTION MODE",mode_dnr:"Network (DNR)",mode_page:"Injected (JS)",mode_hint_dnr:"Network Layer (DNR): Fast, reliable, no page injection.",mode_hint_page:"Injected (JS): Can access window objects, but slower.",actions:"ACTIONS",select_all:"Select All",btn_enable:"Enable",btn_disable:"Disable",btn_delete:"Delete",logs:"LIVE LOGS",clear:"Clear",search_logs:"Filter logs...",no_logs:"No active logs"},toolbar:{total_rules:"Rules",active_rules:"Active",search_placeholder:"Search URL...",new_rule:"New Rule",menu_example:"Actions",export_json:"Export JSON",import_json:"Import JSON",group_by_origin:"Group by Origin"},list:{no_rules:"No rules found",updated:"Updated"},editor:{title_new:"Create New Rule",title_edit:"Edit Rule",label_url:"URL Pattern",help_url:"Supports wildcards (*)",label_status:"Status Code",label_type:"Content Type",label_enable:"Enable Rule",label_body:"Response Body",placeholder_template:"Load Template",btn_format:"Format",btn_minify:"Minify",valid_json:"Valid JSON",btn_cancel:"Cancel",btn_save:"Save Rule",error_json:"Invalid JSON",error_url_req:"URL Pattern is required",error_body_req:"Response Data is required",success_saved:"Rule Saved"},dialog:{confirm_del_sel:"Are you sure you want to delete selected rules?",confirm_del_one:"Are you sure you want to delete this rule?",confirm_title:"Confirm",success_bulk_enable:"Bulk Enabled Complete",success_bulk_disable:"Bulk Disabled Complete",warn_select_first:"Select rules first",success_del_sel:"Deleted selected rules",success_dup:"Rule duplicated",success_del_one:"Rule deleted",success_export:"Rules exported",success_import:"Imported {n} rules",error_import:"Import failed: "},templates:{success:"Success (200)",empty_list:"Empty List",biz_error:"Business Error",forbidden:"Forbidden (403)",server_error:"Server Error (500)"}},zh:{brand:{title:"NetMock",subtitle:"‰∏ì‰∏ö API Mock Â∑•ÂÖ∑",status:"ÁõëÊéß‰∏≠"},sidebar:{mode:"Êã¶Êà™Ê®°Âºè",mode_dnr:"ÁΩëÁªúÂ±Ç (DNR)",mode_page:"Ê≥®ÂÖ•Â±Ç (JS)",mode_hint_dnr:"ÁΩëÁªúÂ±Ç (DNR): Âø´ÈÄüÁ®≥ÂÆöÔºåÊó†È°µÈù¢Ê≥®ÂÖ•„ÄÇ",mode_hint_page:"Ê≥®ÂÖ•Â±Ç (JS): ÂèØËÆøÈóÆ Window ÂØπË±°ÔºåËæÉÊÖ¢„ÄÇ",actions:"Êìç‰Ωú",select_all:"ÂÖ®ÈÄâ",btn_enable:"ÂêØÁî®",btn_disable:"Á¶ÅÁî®",btn_delete:"Âà†Èô§",logs:"ÂÆûÊó∂Êó•Âøó",clear:"Ê∏ÖÁ©∫",search_logs:"ËøáÊª§Êó•Âøó...",no_logs:"ÊöÇÊó†Êó•Âøó"},toolbar:{total_rules:"ËßÑÂàôÊï∞",active_rules:"Â∑≤ÂêØÁî®",search_placeholder:"ÊêúÁ¥¢ URL...",new_rule:"Êñ∞Âª∫ËßÑÂàô",menu_example:"Êìç‰Ωú",export_json:"ÂØºÂá∫ JSON",import_json:"ÂØºÂÖ• JSON",group_by_origin:"ÊåâÂüüÂêçÂàÜÁªÑ"},list:{no_rules:"Êú™ÊâæÂà∞ËßÑÂàô",updated:"Êõ¥Êñ∞‰∫é"},editor:{title_new:"Êñ∞Âª∫ËßÑÂàô",title_edit:"ÁºñËæëËßÑÂàô",label_url:"URL Ê®°Âºè",help_url:"ÊîØÊåÅÈÄöÈÖçÁ¨¶ (*)",label_status:"Áä∂ÊÄÅÁ†Å",label_type:"Content-Type",label_enable:"ÂêØÁî®ËßÑÂàô",label_body:"ÂìçÂ∫îÂÜÖÂÆπ",placeholder_template:"Âä†ËΩΩÊ®°Êùø",btn_format:"Ê†ºÂºèÂåñ",btn_minify:"ÂéãÁº©",valid_json:"JSON Ê†ºÂºèÊ≠£Á°Æ",btn_cancel:"ÂèñÊ∂à",btn_save:"‰øùÂ≠ò",error_json:"JSON Ê†ºÂºèÈîôËØØ",error_url_req:"ËØ∑ËæìÂÖ• URL Ê®°Âºè",error_body_req:"ËØ∑ËæìÂÖ•ÂìçÂ∫îÂÜÖÂÆπ",success_saved:"‰øùÂ≠òÊàêÂäü"},dialog:{confirm_del_sel:"Á°ÆÂÆöË¶ÅÂà†Èô§ÈÄâ‰∏≠ÁöÑËßÑÂàôÂêóÔºü",confirm_del_one:"Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§ËßÑÂàôÂêóÔºü",confirm_title:"ÊèêÁ§∫",success_bulk_enable:"ÊâπÈáèÂêØÁî®ÂÆåÊàê",success_bulk_disable:"ÊâπÈáèÁ¶ÅÁî®ÂÆåÊàê",warn_select_first:"ËØ∑ÂÖàÈÄâÊã©ËßÑÂàô",success_del_sel:"Â∑≤Âà†Èô§ÈÄâ‰∏≠ËßÑÂàô",success_dup:"ËßÑÂàôÂ∑≤Â§çÂà∂",success_del_one:"ËßÑÂàôÂ∑≤Âà†Èô§",success_export:"ÂØºÂá∫ÊàêÂäü",success_import:"ÊàêÂäüÂØºÂÖ• {n} Êù°ËßÑÂàô",error_import:"ÂØºÂÖ•Â§±Ë¥•: "},templates:{success:"ÊàêÂäüÂìçÂ∫î (200)",empty_list:"Á©∫ÂàóË°®",biz_error:"‰∏öÂä°ÈîôËØØ (400)",forbidden:"Êó†ÊùÉÈôê (403)",server_error:"ÊúçÂä°ÂºÇÂ∏∏ (500)"}}},T=w("en");(navigator.language||"en").toLowerCase().includes("zh")&&(T.value="zh");const l=t=>{const e=t.split(".");let r=F[T.value];for(const m of e){if(!r)return t;r=r[m]}return r||t},ee=x(()=>[{id:"success",name:l("templates.success"),statusCode:200,contentType:"application/json; charset=utf-8",body:{status:"success",data:{},message:"ok"}},{id:"empty-list",name:l("templates.empty_list"),statusCode:200,contentType:"application/json; charset=utf-8",body:{status:"success",data:[],total:0}},{id:"biz-error",name:l("templates.biz_error"),statusCode:400,contentType:"application/json; charset=utf-8",body:{error:!0,code:"BUSINESS_ERROR",message:"error"}},{id:"forbidden",name:l("templates.forbidden"),statusCode:403,contentType:"application/json; charset=utf-8",body:{error:!0,code:"FORBIDDEN",message:"access denied"}},{id:"server-error",name:l("templates.server_error"),statusCode:500,contentType:"application/json; charset=utf-8",body:{error:!0,code:"SERVER_ERROR",message:"server error"}}]),N=w("dnr"),z=w(!1),q=w("append"),u=w([]),A=w([]),y=w(new Set),j=w(!1),te=w(null),P=w(""),O=w(!0),U=B(new Set),C=B({url:"",status:"all",contentType:"",statusCode:""}),J=B({field:"manual",dir:"desc"}),H=w(""),c=B({id:null,urlPattern:"",statusCode:200,contentType:"application/json; charset=utf-8",enabled:!0,responseData:""}),S=w(""),ye=x(()=>N.value==="dnr"?l("sidebar.mode_hint_dnr"):l("sidebar.mode_hint_page")),V=x(()=>{let t=u.value.filter(e=>!(C.url&&!e.urlPattern.toLowerCase().includes(C.url.toLowerCase())||C.status==="enabled"&&!e.enabled||C.status==="disabled"&&e.enabled||C.contentType&&!e.contentType.toLowerCase().includes(C.contentType.toLowerCase())||C.statusCode&&String(e.statusCode)!==C.statusCode));if(J.field!=="manual"){const e=J.dir==="asc"?1:-1;t=t.slice().sort((r,m)=>{const v=r[J.field]??0,p=m[J.field]??0;return typeof v=="string"||typeof p=="string"?String(v).localeCompare(String(p))*e:(v-p)*e})}return t}),we=x(()=>{const t={},e=T.value==="zh"?"ÂÖ®Â±Ä / ÂÖ∂‰ªñ":"Global / Other";return V.value.forEach(r=>{let m=e;try{const v=r.urlPattern.match(/^(\*|[a-z0-9]+):\/\/([^\/]+)/i);v&&v[2]&&(m=v[2])}catch{}t[m]||(t[m]=[]),t[m].push(r)}),Object.keys(t).sort().map(r=>({name:r,rules:t[r]}))}),Ce=x(()=>u.value.filter(t=>t.enabled).length),se=x({get:()=>V.value.length>0&&Array.from(y.value).length>=V.value.length,set:t=>{}}),le=x(()=>{const t=H.value.trim().toLowerCase();return t?A.value.filter(e=>`${e.url||""} ${e.ruleId||""} ${e.source||""}`.toLowerCase().includes(t)):A.value});et(async()=>{await ke(),await Se(),chrome&&chrome.storage&&chrome.storage.onChanged.addListener((t,e)=>{e==="local"&&(t.responseOverrideRules&&(u.value=K(t.responseOverrideRules.newValue||[])),t.overrideMode&&(N.value=t.overrideMode.newValue||"dnr"),t.debugMode&&(z.value=!!t.debugMode.newValue))}),chrome&&chrome.runtime&&(chrome.runtime.onMessage.addListener(t=>{t.type==="LOGS_UPDATED"&&(A.value=t.logs||[])}),Oe())});const oe=t=>{const e=parseInt(t);return e>=200&&e<300?"status-2xx":e>=300&&e<400?"status-3xx":e>=400&&e<500?"status-4xx":e>=500?"status-5xx":""},ke=async()=>{if(!chrome||!chrome.storage)return;const t=await chrome.storage.local.get(["overrideMode","debugMode","importStrategy","groupByOrigin"]);N.value=t.overrideMode||"dnr",z.value=!!t.debugMode,q.value=t.importStrategy||"append",O.value=t.groupByOrigin!==!1},Se=async()=>{if(!chrome||!chrome.storage)return;const t=await chrome.storage.local.get(["responseOverrideRules"]);u.value=K(t.responseOverrideRules||[])},D=async()=>{!chrome||!chrome.storage||(await chrome.storage.local.set({responseOverrideRules:JSON.parse(JSON.stringify(u.value))}),chrome.runtime.sendMessage({type:"UPDATE_RULES",rules:u.value},()=>{}))},W=()=>{if(!c.contentType.toLowerCase().includes("json")){S.value="";return}try{JSON.parse(c.responseData),S.value=""}catch(t){S.value=t.message}};ve(()=>c.responseData,W),ve(O,t=>{chrome&&chrome.storage&&chrome.storage.local.set({groupByOrigin:t})});const Re=t=>{chrome&&chrome.storage&&(chrome.storage.local.set({overrideMode:t}),chrome.runtime.sendMessage({type:"SET_OVERRIDE_MODE",mode:t},()=>{}))},Ve=t=>{chrome&&chrome.storage&&chrome.storage.local.set({debugMode:t})},Oe=()=>{chrome&&chrome.runtime&&chrome.runtime.sendMessage({type:"GET_LOGS"},t=>{t&&t.success&&(A.value=t.logs||[])})},De=()=>{chrome&&chrome.runtime&&chrome.runtime.sendMessage({type:"CLEAR_LOGS"},()=>{A.value=[]})},Ee=t=>{t?V.value.forEach(e=>y.value.add(e.id)):V.value.forEach(e=>y.value.delete(e.id))},ae=(t,e)=>{e?y.value.add(t):y.value.delete(t)},xe=()=>ne(!0),Te=()=>ne(!1),ne=t=>{if(y.value.size===0)return h.warning(l("dialog.warn_select_first"));u.value.forEach(e=>{y.value.has(e.id)&&(e.enabled=t,e.updatedAt=Date.now())}),D(),h.success(l(t?"dialog.success_bulk_enable":"dialog.success_bulk_disable"))},je=async()=>{if(y.value.size===0)return h.warning(l("dialog.warn_select_first"));try{await fe.confirm(l("dialog.confirm_del_sel"),l("dialog.confirm_title"),{type:"warning"}),u.value=u.value.filter(t=>!y.value.has(t.id)),y.value.clear(),D(),h.success(l("dialog.success_del_sel"))}catch{}},Le=()=>{Ae(),j.value=!0},re=t=>{Object.assign(c,JSON.parse(JSON.stringify(t))),S.value="",j.value=!0},ie=t=>{t.updatedAt=Date.now(),D()},de=t=>{const e={...t,id:Q(),enabled:!0,createdAt:Date.now(),updatedAt:Date.now()};u.value.unshift(e),_e(),D(),h.success(l("dialog.success_dup"))},ce=async t=>{try{await fe.confirm(l("dialog.confirm_del_one"),l("dialog.confirm_title"),{type:"warning"}),u.value=u.value.filter(e=>e.id!==t.id),y.value.delete(t.id),D(),h.success(l("dialog.success_del_one"))}catch{}},Ne=()=>{if(!c.urlPattern)return h.error(l("editor.error_url_req"));if(!c.responseData)return h.error(l("editor.error_body_req"));if(S.value)return h.error(l("editor.error_json"));const t=Date.now(),e={...c,updatedAt:t};if(e.id){const r=u.value.findIndex(m=>m.id===e.id);r!==-1&&(u.value[r]=e)}else e.id=Q(),e.createdAt=t,u.value.unshift(e),_e();D(),j.value=!1,h.success(l("editor.success_saved"))},Ae=()=>{Object.assign(c,{id:null,urlPattern:"",statusCode:200,contentType:"application/json; charset=utf-8",enabled:!0,responseData:`{
  "status": "success",
  "data": {}
}`}),S.value="",P.value=""},Ue=()=>{const t=ee.value.find(e=>e.id===P.value);t&&(c.statusCode=t.statusCode,c.contentType=t.contentType,c.responseData=JSON.stringify(t.body,null,2),W())},ue=t=>{try{const e=JSON.parse(c.responseData);c.responseData=JSON.stringify(e,null,t?2:0),W()}catch{h.error(l("editor.error_json"))}},Me=()=>{const t=JSON.stringify(u.value,null,2),e=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(e),m=document.createElement("a");m.href=r,m.download=`netmock-rules-${new Date().toISOString().slice(0,10)}.json`,m.click(),URL.revokeObjectURL(r),h.success(l("dialog.success_export"))},Ie=()=>{te.value.click()},ze=t=>{const e=t.target.files[0];if(!e)return;const r=new FileReader;r.onload=async m=>{try{const v=JSON.parse(m.target.result);if(!Array.isArray(v))throw new Error("Format must be an array");const p=K(v);if(q.value==="overwrite")u.value=p;else if(q.value==="dedupe"){const L=new Set(u.value.map(k=>k.urlPattern));p.forEach(k=>{L.has(k.urlPattern)||u.value.push(k)})}else u.value=u.value.concat(p);await D(),h.success(l("dialog.success_import").replace("{n}",p.length))}catch(v){h.error(l("dialog.error_import")+v.message)}},r.readAsText(e),t.target.value=""},K=t=>{const e=Date.now();return(Array.isArray(t)?t:[]).map(r=>({id:r.id||Q(),urlPattern:r.urlPattern||"",responseData:typeof r.responseData=="string"?r.responseData:JSON.stringify(r.responseData||{}),statusCode:parseInt(r.statusCode,10)||200,contentType:r.contentType||"application/json; charset=utf-8",enabled:r.enabled!==!1,priority:r.priority||1,createdAt:r.createdAt||e,updatedAt:r.updatedAt||e}))},Q=()=>`${Date.now().toString(36)}${Math.random().toString(36).slice(2)}`,_e=()=>{u.value.forEach((t,e)=>t.priority=u.value.length-e)},X=t=>{if(!t)return"-";const e=new Date(t);return`${e.getMonth()+1}/${e.getDate()} ${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`},Pe=t=>{U.has(t)?U.delete(t):U.add(t)};return(t,e)=>{const r=_("el-radio-button"),m=_("el-radio-group"),v=_("el-checkbox"),p=_("el-button"),L=_("el-switch"),k=_("el-input"),Je=_("el-aside"),$e=_("el-tooltip"),pe=_("el-dropdown-item"),Be=_("el-dropdown-menu"),Ge=_("el-dropdown"),Fe=_("el-header"),qe=_("el-empty"),He=_("el-main"),me=_("el-container"),$=_("el-form-item"),We=_("el-input-number"),be=_("el-col"),Ke=_("el-row"),Qe=_("el-option"),Xe=_("el-select"),Ye=_("el-form"),Ze=_("el-dialog");return b(),Y(me,{class:"app-container"},{default:i(()=>[a(Je,{width:"260px",class:"sidebar"},{default:i(()=>[s("div",nt,[s("div",rt,n(l("brand.title")),1),s("div",it,n(l("brand.subtitle")),1),s("div",dt,[e[16]||(e[16]=s("div",{class:"status-dot"},null,-1)),s("span",ct,n(l("brand.status")),1)])]),s("div",ut,[s("div",_t,n(l("sidebar.mode")),1),a(m,{modelValue:N.value,"onUpdate:modelValue":e[0]||(e[0]=o=>N.value=o),size:"small",fill:"#3b82f6",onChange:Re},{default:i(()=>[a(r,{label:"dnr"},{default:i(()=>[g(n(l("sidebar.mode_dnr")),1)]),_:1}),a(r,{label:"page"},{default:i(()=>[g(n(l("sidebar.mode_page")),1)]),_:1})]),_:1},8,["modelValue"]),s("p",pt,n(ye.value),1)]),s("div",mt,[s("div",bt,n(l("sidebar.actions")),1),s("div",vt,[a(v,{modelValue:se.value,"onUpdate:modelValue":e[1]||(e[1]=o=>se.value=o),onChange:Ee,label:l("sidebar.select_all")},null,8,["modelValue","label"])]),s("div",gt,[a(p,{type:"success",plain:"",size:"small",onClick:xe},{default:i(()=>[g(n(l("sidebar.btn_enable")),1)]),_:1}),a(p,{type:"warning",plain:"",size:"small",onClick:Te},{default:i(()=>[g(n(l("sidebar.btn_disable")),1)]),_:1}),a(p,{type:"danger",plain:"",size:"small",onClick:je},{default:i(()=>[g(n(l("sidebar.btn_delete")),1)]),_:1})])]),s("div",ft,[s("div",ht,[s("span",null,n(l("sidebar.logs")),1),s("div",yt,[a(L,{modelValue:z.value,"onUpdate:modelValue":e[2]||(e[2]=o=>z.value=o),size:"small",onChange:Ve},null,8,["modelValue"]),a(p,{link:"",size:"small",class:"clear-btn",onClick:De},{default:i(()=>[g(n(l("sidebar.clear")),1)]),_:1})])]),a(k,{modelValue:H.value,"onUpdate:modelValue":e[3]||(e[3]=o=>H.value=o),placeholder:l("sidebar.search_logs"),size:"small",class:"log-filter"},{prefix:i(()=>[...e[17]||(e[17]=[s("span",{style:{"font-size":"12px",color:"#94a3b8"}},"üîç",-1)])]),_:1},8,["modelValue","placeholder"]),s("div",wt,[le.value.length===0?(b(),f("div",Ct,n(l("sidebar.no_logs")),1)):ge("",!0),(b(!0),f(M,null,I(le.value,(o,d)=>(b(),f("div",{key:d,class:"log-item"},[s("div",kt,[s("span",{class:R(["method-tag",o.method])},n(o.method),3),s("span",St,n(X(o.ts).split(" ")[1]),1)]),s("div",{class:"log-url",title:o.url},n(o.url),9,Rt),o.ruleId?(b(),f("div",Vt,[s("span",Ot,"Rule: "+n(o.ruleId.slice(0,8))+"...",1)])):ge("",!0)]))),128))])])]),_:1}),a(me,{class:"main-wrapper"},{default:i(()=>[a(Fe,{height:"auto",class:"toolbar"},{default:i(()=>[s("div",Dt,[s("div",Et,[s("div",xt,[g(n(V.value.length),1),s("span",Tt,"/"+n(u.value.length),1)]),s("div",jt,n(l("toolbar.total_rules")),1)]),e[18]||(e[18]=s("div",{class:"stat-divider"},null,-1)),s("div",Lt,[s("div",Nt,n(Ce.value),1),s("div",At,n(l("toolbar.active_rules")),1)])]),s("div",Ut,[s("div",Mt,[a(k,{modelValue:C.url,"onUpdate:modelValue":e[4]||(e[4]=o=>C.url=o),placeholder:l("toolbar.search_placeholder"),clearable:"",class:"search-input"},null,8,["modelValue","placeholder"])]),a($e,{content:l("toolbar.group_by_origin"),placement:"bottom"},{default:i(()=>[a(p,{type:O.value?"primary":"default",plain:!O.value,class:"icon-btn",onClick:e[5]||(e[5]=o=>O.value=!O.value)},{default:i(()=>[...e[19]||(e[19]=[s("span",{class:"custom-icon"},"üóÇ",-1)])]),_:1},8,["type","plain"])]),_:1},8,["content"]),a(p,{type:"primary",class:"create-btn",onClick:Le},{default:i(()=>[s("span",null,"+ "+n(l("toolbar.new_rule")),1)]),_:1}),a(Ge,{trigger:"click"},{dropdown:i(()=>[a(Be,null,{default:i(()=>[a(pe,{onClick:Me},{default:i(()=>[g(n(l("toolbar.export_json")),1)]),_:1}),a(pe,{onClick:Ie},{default:i(()=>[g(n(l("toolbar.import_json")),1)]),_:1})]),_:1})]),default:i(()=>[a(p,{class:"icon-btn"},{default:i(()=>[g(n(l("toolbar.menu_example"))+" ",1),e[20]||(e[20]=s("span",{class:"el-icon-arrow-down el-icon--right"},null,-1))]),_:1})]),_:1}),s("input",{type:"file",ref_key:"fileInput",ref:te,accept:".json",style:{display:"none"},onChange:ze},null,544)])]),_:1}),a(He,{class:"main-content"},{default:i(()=>[V.value.length===0?(b(),Y(qe,{key:0,description:l("list.no_rules")},null,8,["description"])):(b(),f("div",It,[O.value?(b(),f("div",zt,[(b(!0),f(M,null,I(we.value,o=>(b(),f("div",{key:o.name,class:"group-section"},[s("div",{class:"group-header",onClick:d=>Pe(o.name)},[s("span",{class:R(["group-toggle-icon",{collapsed:U.has(o.name)}])},"‚ñº",2),e[21]||(e[21]=s("span",{class:"group-icon"},"üåê",-1)),s("span",Jt,n(o.name),1),s("span",$t,n(o.rules.length),1)],8,Pt),tt(s("div",Bt,[(b(!0),f(M,null,I(o.rules,d=>(b(),f("div",{key:d.id,class:R(["rule-card",{"is-disabled":!d.enabled}])},[s("div",{class:R(["rule-status-stripe",{active:d.enabled}])},null,2),s("div",Gt,[s("div",Ft,[a(v,{"model-value":y.value.has(d.id),"onUpdate:modelValue":E=>ae(d.id,E)},null,8,["model-value","onUpdate:modelValue"])]),s("div",qt,[s("div",Ht,[s("div",{class:"rule-url",title:d.urlPattern},n(d.urlPattern),9,Wt)]),s("div",Kt,[s("div",Qt,[e[22]||(e[22]=s("span",{class:"badge method-badge"},"GET/POST",-1)),s("span",{class:R(["badge status-badge",oe(d.statusCode)])},n(d.statusCode),3),s("span",Xt,n(d.contentType),1)]),s("div",Yt,n(l("list.updated"))+" "+n(X(d.updatedAt)),1)])]),s("div",Zt,[a(L,{modelValue:d.enabled,"onUpdate:modelValue":E=>d.enabled=E,onChange:E=>ie(d),size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("div",es,[s("button",{class:"icon-action",onClick:E=>re(d),title:l("editor.title_edit")},"‚úé",8,ts),s("button",{class:"icon-action",onClick:E=>de(d),title:l("dialog.success_dup")},"‚ùê",8,ss),s("button",{class:"icon-action delete",onClick:E=>ce(d),title:l("sidebar.btn_delete")},"üóë",8,ls)])])])],2))),128))],512),[[st,!U.has(o.name)]])]))),128))])):(b(),f("div",os,[(b(!0),f(M,null,I(V.value,o=>(b(),f("div",{key:o.id,class:R(["rule-card",{"is-disabled":!o.enabled}])},[s("div",{class:R(["rule-status-stripe",{active:o.enabled}])},null,2),s("div",as,[s("div",ns,[a(v,{"model-value":y.value.has(o.id),"onUpdate:modelValue":d=>ae(o.id,d)},null,8,["model-value","onUpdate:modelValue"])]),s("div",rs,[s("div",is,[s("div",{class:"rule-url",title:o.urlPattern},n(o.urlPattern),9,ds)]),s("div",cs,[s("div",us,[e[23]||(e[23]=s("span",{class:"badge method-badge"},"GET/POST",-1)),s("span",{class:R(["badge status-badge",oe(o.statusCode)])},n(o.statusCode),3),s("span",_s,n(o.contentType),1)]),s("div",ps,n(l("list.updated"))+" "+n(X(o.updatedAt)),1)])]),s("div",ms,[a(L,{modelValue:o.enabled,"onUpdate:modelValue":d=>o.enabled=d,onChange:d=>ie(o),size:"small"},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("div",bs,[s("button",{class:"icon-action",onClick:d=>re(o),title:l("editor.title_edit")},"‚úé",8,vs),s("button",{class:"icon-action",onClick:d=>de(o),title:l("dialog.success_dup")},"‚ùê",8,gs),s("button",{class:"icon-action delete",onClick:d=>ce(o),title:l("sidebar.btn_delete")},"üóë",8,fs)])])])],2))),128))]))]))]),_:1})]),_:1}),a(Ze,{modelValue:j.value,"onUpdate:modelValue":e[15]||(e[15]=o=>j.value=o),title:c.id?l("editor.title_edit"):l("editor.title_new"),width:"900px","close-on-click-modal":!1,class:"custom-dialog"},{footer:i(()=>[s("span",Ss,[a(p,{onClick:e[14]||(e[14]=o=>j.value=!1)},{default:i(()=>[g(n(l("editor.btn_cancel")),1)]),_:1}),a(p,{type:"primary",onClick:Ne},{default:i(()=>[g(n(l("editor.btn_save")),1)]),_:1})])]),default:i(()=>[a(Ye,{model:c,"label-width":"120px",class:"edit-form"},{default:i(()=>[a($,{label:l("editor.label_url")},{default:i(()=>[a(k,{modelValue:c.urlPattern,"onUpdate:modelValue":e[6]||(e[6]=o=>c.urlPattern=o),placeholder:"https://api.example.com/v1/users/*"},null,8,["modelValue"]),s("div",hs,n(l("editor.help_url")),1)]),_:1},8,["label"]),a(Ke,{gutter:20},{default:i(()=>[a(be,{span:12},{default:i(()=>[a($,{label:l("editor.label_status")},{default:i(()=>[a(We,{modelValue:c.statusCode,"onUpdate:modelValue":e[7]||(e[7]=o=>c.statusCode=o),min:100,max:599,style:{width:"100%"},"controls-position":"right"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),a(be,{span:12},{default:i(()=>[a($,{label:l("editor.label_type")},{default:i(()=>[a(k,{modelValue:c.contentType,"onUpdate:modelValue":e[8]||(e[8]=o=>c.contentType=o),placeholder:"application/json"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),a($,{label:l("editor.label_enable")},{default:i(()=>[a(L,{modelValue:c.enabled,"onUpdate:modelValue":e[9]||(e[9]=o=>c.enabled=o)},null,8,["modelValue"])]),_:1},8,["label"]),s("div",ys,[s("div",ws,[s("span",Cs,n(l("editor.label_body")),1),s("div",ks,[a(Xe,{modelValue:P.value,"onUpdate:modelValue":e[10]||(e[10]=o=>P.value=o),placeholder:l("editor.placeholder_template"),size:"small",onChange:Ue,style:{width:"140px"}},{default:i(()=>[(b(!0),f(M,null,I(ee.value,o=>(b(),Y(Qe,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),a(p,{size:"small",text:"",onClick:e[11]||(e[11]=o=>ue(!0))},{default:i(()=>[g(n(l("editor.btn_format")),1)]),_:1}),a(p,{size:"small",text:"",onClick:e[12]||(e[12]=o=>ue(!1))},{default:i(()=>[g(n(l("editor.btn_minify")),1)]),_:1})])]),a(k,{modelValue:c.responseData,"onUpdate:modelValue":e[13]||(e[13]=o=>c.responseData=o),rows:15,type:"textarea",class:"code-textarea",spellcheck:"false"},null,8,["modelValue"]),s("div",{class:R(["json-status",{error:S.value}])},n(S.value?"‚ùå "+S.value:"‚úî "+l("editor.valid_json")),3)])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1})}}},Vs=at(Rs,[["__scopeId","data-v-c7711a70"]]),he=lt(Vs);he.use(ot);he.mount("#app");
